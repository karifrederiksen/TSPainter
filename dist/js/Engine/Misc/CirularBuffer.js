export class ICBuffer {
    constructor(size) {
        this.headIdx = 0;
        this._initBuffer(size);
    }
    get nextIdx() { return (this.headIdx + 1) % this.buffer.length; }
    get length() { return this.buffer.length; }
    add(item) {
        this.buffer[this.headIdx = this.nextIdx] = item;
    }
    next() { this.headIdx = this.nextIdx; }
}
export class CBuffer extends ICBuffer {
    constructor(size) {
        super(size);
    }
    _initBuffer(size) {
        const buf = new Array(size);
        for (let i = 0; i < size; i++) {
            buf[i] = null;
        }
        this.buffer = buf;
    }
}
export class CFloatBuffer extends ICBuffer {
    constructor(size) {
        super(size);
    }
    _initBuffer(size) {
        this.buffer = new Float32Array(size);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2lydWxhckJ1ZmZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9FbmdpbmUvTWlzYy9DaXJ1bGFyQnVmZmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLE1BQU07SUFLTCxZQUFZLElBQVk7UUFKakIsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUtsQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFJRCxJQUFXLE9BQU8sS0FBSyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN4RSxJQUFXLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBSTNDLEdBQUcsQ0FBQyxJQUFTO1FBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ2pELENBQUM7SUFJTSxJQUFJLEtBQUssSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztDQUs5QztBQU1ELE1BQU0sY0FBa0IsU0FBUSxRQUFRO0lBR3ZDLFlBQVksSUFBWTtRQUN2QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBRVMsV0FBVyxDQUFDLElBQVk7UUFDakMsTUFBTSxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUMvQixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2YsQ0FBQztRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7Q0FDRDtBQU1ELE1BQU0sbUJBQW9CLFNBQVEsUUFBUTtJQUd6QyxZQUFZLElBQVk7UUFDdkIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVTLFdBQVcsQ0FBQyxJQUFZO1FBQ2pDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQztDQUNEIn0=